"use strict";function _toConsumableArray(b){if(Array.isArray(b)){for(var c=0,d=Array(b.length);c<b.length;c++)d[c]=b[c];return d}return Array.from(b)}function _classCallCheck(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(b,c){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&("object"==typeof c||"function"==typeof c)?c:b}function _inherits(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}module.exports=function(){"use strict";function c(m,o){if("number"!=typeof m||!Number.isInteger(m))throw new h;if(m>=o.length||0>m)throw new g(m,o)}function d(){var m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(z){function A(){var H;_classCallCheck(this,A);for(var F=arguments.length,E=Array(F),G=0;G<F;G++)E[G]=arguments[G];return _possibleConstructorReturn(this,(H=A.__proto__||Object.getPrototypeOf(A)).call.apply(H,[this].concat(E)))}return _inherits(A,z),A}(Array);if(!(new m instanceof Array))throw new k;if(m.xrray)return m;var o=m.prototype;return m.xrray=!0,o.xrray=!0,Object.defineProperty(o,"empty",{get:function get(){return 0===this.length}}),Object.defineProperty(o,"last",{get:function get(){return 0===this.length?void 0:this[this.length-1]}}),Object.defineProperty(o,"first",{get:function get(){return this[0]}}),o.clear=function(){return this.length=0,this},o.Clear=function(){return new m},o.add=function(){return this.push.apply(this,z),this},o.Add=function(){var A,B;return(A=(B=new m).add.apply(B,_toConsumableArray(this))).add.apply(A,z)},o.set=function(){var A,z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return this===z?this:z instanceof Array?(A=this.clear()).add.apply(A,_toConsumableArray(z)):this.clear().add(z)},o.Set=function(){var A,z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return z instanceof Array?(A=new m).add.apply(A,_toConsumableArray(z)):new m().add(z)},o.Reverse=function(){return this.Set(this).reverse()},o.index=function(){for(var F=this,C={},D=this.Set(this),E=new m,A=arguments.length,z=Array(A),B=0;B<A;B++)z[B]=arguments[B];return z.forEach(function(G){if(!F.includes(G))throw new l(G,F);for(;;){var H=D.indexOf(G);if(E.last!==H&&-1!==H)E.add(H),D[H]=C;else break}}),E},o.Flat=o.flat,o.flat=function(z){return this.set(this.Flat(z))},o.clean=function(){for(var z=0;z<this.length;z++)(void 0===this[z]||null===this[z])&&(this.splice(z,1),z--);return this},o.Clean=function(){return this.Set(this).clean()},o.removeI=function(){var D=this,C=this.Set(this);try{for(var A=arguments.length,z=Array(A),B=0;B<A;B++)z[B]=arguments[B];z.flat(Infinity).forEach(function(E){c(E,D),D[E]=null}),this.clean()}catch(E){throw(E instanceof h||E instanceof g)&&this.set(C),E}return this},o.RemoveI=function(){var A;return(A=this.Set(this)).removeI.apply(A,z)},o.removeV=function(){return this.removeI(this.index.apply(this,z))},o.RemoveV=function(){var A;return(A=this.Set(this)).removeV.apply(A,z)},o.remove=function(){try{this.removeI.apply(this,z)}catch(A){if(A instanceof h)this.removeV.apply(this,z);else throw A}return this},o.Remove=function(){var A;return(A=this.Set(this)).remove.apply(A,z)},o.Get=function(){for(var D=this,C=[],A=arguments.length,z=Array(A),B=0;B<A;B++)z[B]=arguments[B];return z.flat(Infinity).forEach(function(E){C.add(D[E])}),C},o.get=function(){return this.set(this.Get.apply(this,z))},o.dda=function(){var A;return(A=this.reverse()).add.apply(A,z).reverse()},o.Dda=function(){var A;return(A=this.Reverse()).add.apply(A,z).reverse()},o.rem=function(z){return c(z,this),this.length-=z,this},o.Rem=function(z){return this.Set(this).rem(z)},o.mer=function(z){return this.reverse().rem(z).reverse()},o.Mer=function(z){return this.Reverse().rem(z).reverese()},o.swapI=function(z,A){if(z=[z].flat(Infinity),A=[A].flat(Infinity),z.length===A.length){var B=this.Set(this);try{for(var C=0;C<z.length;C++){c(z[C],this),c(A[C],this);var _ref4=[this[A[C]],this[z[C]]];this[z[C]]=_ref4[0],this[A[C]]=_ref4[1]}}catch(D){throw(D instanceof h||D instanceof g)&&this.set(B),D}return this}throw new j("Parameter i1 and i2 must ether be two indexes, or two index-Arrays of the same length.")},o.SwapI=function(z,A){return this.Set(this).swapI(z,A)},o.swapV=function(z,A){if(z=this.Set(z).flat(2),A=this.Set(A).flat(2),z.length===A.length){for(var B=0;B<z.length;B++)this.swapI(this.index(z[B]),this.index(A[B]));return this}throw new j("Parameter v1 and v2 must ether be two values, or two value-Arrays of the same length.")},o.SwapV=function(z,A){return this.Set(this).swapV(z,A)},o.swap=function(z,A){try{this.swapI(z,A)}catch(B){if(B instanceof h)this.swapV(z,A);else throw B}return this},o.Swap=function(z,A){return this.Set(this).swap(z,A)},m}var f=function(m){function o(q){_classCallCheck(this,o);var r=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return r.message=r.constructor.name,void 0!==q&&(r.message+=": "+q),r}return _inherits(o,m),o}(Error),g=function(m){function o(q,r){_classCallCheck(this,o);var s=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"Given value \""+q+"\" must be in range 0-"+(r.length-1)+"."));return s.index=q,s.array=r,s}return _inherits(o,m),o}(f),h=function(m){function o(){var q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"Given value must be an Integer.\n"+q))}return _inherits(o,m),o}(f),j=function(m){function o(q){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"Given input is invalid.\n"+q))}return _inherits(o,m),o}(f),k=function(m){function o(){var q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"Given constructor must inherit form Array.\n"+q))}return _inherits(o,m),o}(f),l=function(m){function o(q,r){_classCallCheck(this,o);var s=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,"Unable to find given value: "+q.constructor.name+" "+q+"; within: "+r+";"));return s.value=q,s.array=r,s}return _inherits(o,m),o}(f);return d.Exception=f,d.IndexOutOfBoundsException=g,d.InvalidIntegerException=h,d.InvalidInputException=j,d.InvalidConstructorException=k,d.InvalidValueException=l,d}();
