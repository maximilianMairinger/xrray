module.exports=function(){"use strict";class t extends Error{constructor(t){super(),this.message=this.constructor.name,void 0!==t&&(this.message+=": "+t)}}class e extends t{constructor(t,e){super('Given value "'+t+'" must be in range 0-'+(e.length-1)+"."),this.index=t,this.array=e}}class n extends t{constructor(t=""){super("Given value must be an Integer.\n"+t)}}class r extends t{constructor(t){super("Given input is invalid.\n"+t)}}class i extends t{constructor(t=""){super("Given constructor must inherit form Array.\n"+t)}}class s extends t{constructor(t,e){super("Unable to find given value: "+t.constructor.name+" "+t+"; within: "+e+";"),this.value=t,this.array=e}}function h(t,r){if("number"!=typeof t||!Number.isInteger(t))throw new n;if(t>=r.length||t<0)throw new e(t,r)}function o(t=class extends Array{constructor(...t){super(...t)}}){if(!(new t instanceof Array))throw new i;if(t.xrray)return t;let o=t.prototype;return t.xrray=!0,o.xrray=!0,Object.defineProperty(o,"empty",{get(){return 0===this.length}}),Object.defineProperty(o,"last",{get(){if(0!==this.length)return this[this.length-1]}}),Object.defineProperty(o,"first",{get(){return this[0]}}),o.clear=function(){return this.length=0,this},o.Clear=function(){return new t},o.add=function(...t){return this.push(...t),this},o.Add=function(...e){return(new t).add(...this).add(...e)},o.set=function(t=[]){return this===t?this:t instanceof Array?this.clear().add(...t):this.clear().add(t)},o.Set=function(e=[]){return e instanceof Array?(new t).add(...e):(new t).add(e)},o.Reverse=function(){return this.Set(this).reverse()},o.forEach=o.each=o.ea=async function(t){for(var e=0;e<this.length;e++){let n=await t(this[e]);if(void 0!==n)return n}},o.index=function(...e){let n=new Object(null),r=this.Set(this),i=new t;return e.forEach(t=>{if(!this.includes(t))throw new s(t,this);for(;;){let e=r.indexOf(t);if(i.last===e||-1===e)break;i.add(e),r[e]=n}}),i},o.Flat=o.flat,o.flat=function(t){return this.set(this.Flat(t))},o.clean=function(){for(let t=0;t<this.length;t++)void 0!==this[t]&&null!==this[t]||(this.splice(t,1),t--);return this},o.Clean=function(){return this.Set(this).clean()},o.removeI=function(...t){let r=this.Set(this);try{t.flat(1/0).forEach(t=>{h(t,this),this[t]=null}),this.clean()}catch(t){throw(t instanceof n||t instanceof e)&&this.set(r),t}return this},o.RemoveI=function(...t){return this.Set(this).removeI(...t)},o.removeV=function(...t){return this.removeI(this.index(...t))},o.RemoveV=function(...t){return this.Set(this).removeV(...t)},o.remove=function(...t){try{this.removeI(...t)}catch(e){if(!(e instanceof n))throw e;this.removeV(...t)}return this},o.Remove=function(...t){return this.Set(this).remove(...t)},o.Get=function(...t){let e=[];return t.flat(1/0).forEach(t=>{e.add(this[t])}),e},o.get=function(...t){return this.set(this.Get(...t))},o.dda=function(...t){return this.reverse().add(...t).reverse()},o.Dda=function(...t){return this.Reverse().add(...t).reverse()},o.rem=function(t){return h(t,this),this.length-=t,this},o.Rem=function(t){return this.Set(this).rem(t)},o.mer=function(t){return this.reverse().rem(t).reverse()},o.Mer=function(t){return this.Reverse().rem(t).reverese()},o.swapI=function(t,i){if(t=[t].flat(1/0),i=[i].flat(1/0),t.length===i.length){let r=this.Set(this);try{for(let e=0;e<t.length;e++)h(t[e],this),h(i[e],this),[this[t[e]],this[i[e]]]=[this[i[e]],this[t[e]]]}catch(t){throw(t instanceof n||t instanceof e)&&this.set(r),t}return this}throw new r("Parameter i1 and i2 must ether be two indexes, or two index-Arrays of the same length.")},o.SwapI=function(t,e){return this.Set(this).swapI(t,e)},o.swapV=function(t,e){if(t=this.Set(t).flat(2),e=this.Set(e).flat(2),t.length===e.length){for(var n=0;n<t.length;n++)this.swapI(this.index(t[n]),this.index(e[n]));return this}throw new r("Parameter v1 and v2 must ether be two values, or two value-Arrays of the same length.")},o.SwapV=function(t,e){return this.Set(this).swapV(t,e)},o.swap=function(t,e){try{this.swapI(t,e)}catch(r){if(!(r instanceof n))throw r;this.swapV(t,e)}return this},o.Swap=function(t,e){return this.Set(this).swap(t,e)},t}return o.Exception=t,o.IndexOutOfBoundsException=e,o.InvalidIntegerException=n,o.InvalidInputException=r,o.InvalidConstructorException=i,o.InvalidValueException=s,o}()
